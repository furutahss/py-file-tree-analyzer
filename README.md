# py-file-tree-analyzer

指定したディレクトリの構造をツリー形式で出力し、各ファイルおよびフォルダの合計サイズを一目で確認できるCLIツールです。

## 概要

このスクリプトは、ファイル単体のサイズだけでなく、ディレクトリ配下の全ファイルの合計サイズを再帰的に計算して表示します。

また、結果をコンソールに出力すると同時に、スキャンしたディレクトリ名に基づいたテキストファイルとして自動保存します。

## 主な機能

- **サイズ一括可視化**: フォルダに含まれる全データの合計サイズを計算し、行頭に表示します。
- **等幅フォーマット**: サイズ表示を `[ 100.0 KB]` のように右寄せで固定桁数に揃えるため、視認性に優れています。
- **再帰的スキャン**: サブディレクトリの深さに関わらず、全階層を探索します。
- **自動ファイル保存**: 実行完了時、指定したパスの末尾名称（例：`ProjectA`）をファイル名にした `ProjectA.txt` を自動生成します。
- **隠しファイルの除外**: デフォルトで `.` から始まるシステムファイルや隠しフォルダを無視して、クリーンなツリーを生成します。

## 使い方

ターミナルまたはコマンドプロンプトで、スクリプトを実行します。

```bash
# カレントディレクトリをスキャン
python main.py

# 特定のディレクトリを指定してスキャン
python main.py /Users/furuta/Development/ProjectA

# 外付けドライブなどをスキャン
python main.py /Volumes/ExtDrive/Backups
```

### 出力ファイルについて

実行後、カレントディレクトリに以下の形式でファイルが保存されます。

- `/Users/furuta/Downloads` をスキャンした場合 → `Downloads.txt`
- カレントディレクトリ（`.`）をスキャンした場合 → （現在のフォルダ名）.txt

## 出力例

```PlainText
SIZE  STRUCTURE
--------------------------------------------------
[ 150.5 MB]  ProjectA/
[  12.5 KB]      ├── README.md
[   2.4 MB]      ├── assets/
[ 800.0 KB]      │   ├── icon.png
[   1.6 MB]      │   └── logo.png
[ 148.1 MB]      └── src/
[  42.8 MB]          ├── main.cpp
[ 105.3 MB]          └── database.db
```

## 注意事項

- **アクセス権限**: システム保護されたフォルダ（macOSの `/Library` など）をスキャンする場合、権限エラーにより一部のサイズが `0 B` と表示されることがあります。
- **実行時間**: スキャン対象のディレクトリに数万個以上のファイルが含まれる場合、合計サイズの計算に時間がかかることがあります。
